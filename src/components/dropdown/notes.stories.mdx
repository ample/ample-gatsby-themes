import { Meta, Preview, Props, Story } from "@storybook/addon-docs/blocks"

import Link from "../link"

import fixture from "./menu/__fixtures__/dropdown_menu.json"
import Dropdown from "./"

<Meta title="Components/Dropdown" component={Dropdown} />

# Dropdown

The dropdown component is really more of a set of composable elements that can be used together to build a dropdown menu. It is comprised on three components:

- `<Dropdown />`: A wrapper that controls the visibility of the interior components.

- `<DropdownTrigger />`: A wrapper around a trigger, and doesn't offer any real functional benefit at this time. It lives as a placeholder, should we want to bake functionality into it in the future.

- `<DropdownMenu />`: The element which toggles its visibility based on interaction with the wrapping `<Dropdown />` component.

## Usage

The default usage will render the trigger as a link.

<Preview>
  <Story name="Dropdown">
    <>
      <Dropdown trigger={{ label: "Click Me" }}>
        <ul>
          {fixture.map((link, idx) => (
            <li key={idx}>
              <Link to={link.url}>{link.label}</Link>
            </li>
          ))}
        </ul>
      </Dropdown>
      <p>
        Here's some other content to demonstrate that the menu is absolutely-positioned by default.
      </p>
    </>
    `
  </Story>
</Preview>

You can also use a button as the trigger. This uses the `<Button />` component.

<Preview>
  <Story name="Dropdown Button">
    <>
      <Dropdown trigger={{ label: "Click Me", button: true }}>
        <ul>
          {fixture.map((link, idx) => (
            <li key={idx}>
              <Link to={link.url}>{link.label}</Link>
            </li>
          ))}
        </ul>
      </Dropdown>
      <p>
        Here's some other content to demonstrate that the menu is absolutely-positioned by default.
      </p>
    </>
    `
  </Story>
</Preview>

## Properties

Here are each component's properties:

### Dropdown

The dropdown doesn't render anything to the DOM that isn't passed to it.

<Props of={Dropdown} />

### DropdownMenu

The menu will automatically render a set of items, each of which are passed to the `<Link />` component.

<Props of={DropdownMenu} />

### DropdownTrigger

Like the parent dropdown, the trigger only renders what is presented to it as children.

<Props of={DropdownTrigger} />
